<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>diagrams.net</title>
<meta http-equiv="refresh" content="0;URL='https://app.diagrams.net/#Hdacchen123%2Fnotes-for-diagrams%2Fmain%2Fnotes_for_Lottery%2F19%E3%80%81%E8%AE%BE%E8%AE%A1%E6%BB%91%E5%8A%A8%E5%BA%93%E5%AD%98%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%A4%84%E7%90%86%E6%B4%BB%E5%8A%A8%E7%A7%92%E6%9D%80.drawio.html'"/>
<meta charset="utf-8"/>
</head>
<body>
<div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2023-04-03T03:40:22.332Z\&quot; agent=\&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36\&quot; etag=\&quot;6wfF7EmZ_xTm6xuea-3o\&quot; version=\&quot;21.1.2\&quot; type=\&quot;github\&quot;&gt;&lt;diagram name=\&quot;第 1 页\&quot; id=\&quot;pnBYgS_oVXjNCrIJgJFx\&quot;&gt;&lt;mxGraphModel dx=\&quot;1434\&quot; dy=\&quot;774\&quot; grid=\&quot;1\&quot; gridSize=\&quot;10\&quot; guides=\&quot;1\&quot; tooltips=\&quot;1\&quot; connect=\&quot;1\&quot; arrows=\&quot;1\&quot; fold=\&quot;1\&quot; page=\&quot;1\&quot; pageScale=\&quot;1\&quot; pageWidth=\&quot;1920\&quot; pageHeight=\&quot;1200\&quot; math=\&quot;0\&quot; shadow=\&quot;0\&quot;&gt;&lt;root&gt;&lt;mxCell id=\&quot;0\&quot;/&gt;&lt;mxCell id=\&quot;1\&quot; parent=\&quot;0\&quot;/&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-52\&quot; value=\&quot;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1770\&quot; y=\&quot;40\&quot; width=\&quot;1710\&quot; height=\&quot;520\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-47\&quot; value=\&quot;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;strokeColor=#99CCFF;strokeWidth=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2055\&quot; y=\&quot;360\&quot; width=\&quot;1390\&quot; height=\&quot;100\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-1\&quot; value=\&quot;&amp;lt;h1&amp;gt;19、设计滑动库存分布式锁处理活动秒杀&amp;lt;/h1&amp;gt;\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;170\&quot; y=\&quot;110\&quot; width=\&quot;1330\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-2\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;fontSize=14;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;280\&quot; y=\&quot;170\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;280\&quot; y=\&quot;250\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-3\&quot; value=\&quot;描述\&quot; style=\&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];\&quot; vertex=\&quot;1\&quot; connectable=\&quot;0\&quot; parent=\&quot;MUDqd0nROVP1RyOw-qCX-2\&quot;&gt;&lt;mxGeometry x=\&quot;-0.25\&quot; y=\&quot;-2\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint y=\&quot;10\&quot; as=\&quot;offset\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-4\&quot; value=\&quot;引入 Redis 到抽奖系统，设计颗粒度更细的滑动库存编号分布式锁，处理活动秒杀流程\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;sketch=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;140\&quot; y=\&quot;250\&quot; width=\&quot;290\&quot; height=\&quot;50\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-5\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;fontSize=14;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;510\&quot; y=\&quot;170\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;510\&quot; y=\&quot;330\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-6\&quot; value=\&quot;开发日志\&quot; style=\&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];\&quot; vertex=\&quot;1\&quot; connectable=\&quot;0\&quot; parent=\&quot;MUDqd0nROVP1RyOw-qCX-5\&quot;&gt;&lt;mxGeometry x=\&quot;-0.125\&quot; y=\&quot;-1\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint as=\&quot;offset\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-9\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-7\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-8\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-7\&quot; value=\&quot;在抽奖系统中引入 Redis 模块，优化用户参与抽奖活动。因为只要有大量的用户参与抽奖，那么这个就属于秒杀场景。所以需要使用 Redis 分布式锁的方式来处理集中化库存扣减的问题，否则在 TPS 达到1k-2k，就会把数据库拖垮。\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;sketch=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;340\&quot; y=\&quot;330\&quot; width=\&quot;330\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-11\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-8\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-10\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-8\&quot; value=\&quot;在设计秒杀流程时，优化锁的颗粒度力度，不要把锁直接放到活动编号上，这样在极端临界情况下会出现秒杀解锁失败，导致库存有剩余但不能下单的情况。所以需要增加锁的颗粒度，以滑动库存剩余编号的方式进行加锁，例如 100001_1、100001_2、100001_3，以此类推\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;sketch=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;340\&quot; y=\&quot;490\&quot; width=\&quot;330\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-10\&quot; value=\&quot;增加缓存扣减库存后，发送 MQ 消息进行异步更新数据库中活动库存，做最终数据一致性处理。这一部分如果你的系统并发体量较大，还需要把 MQ 的数据不要直接对库更新，而是更新到缓存中，再由任务最阶段同步，以此减少对数据库表的操作\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;strokeWidth=2;sketch=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;340\&quot; y=\&quot;650\&quot; width=\&quot;330\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-12\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;fontSize=14;exitX=1;exitY=0.5;exitDx=0;exitDy=0;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-1\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1630\&quot; y=\&quot;130\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;1750\&quot; y=\&quot;140\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-13\&quot; value=\&quot;扣减流程\&quot; style=\&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];\&quot; vertex=\&quot;1\&quot; connectable=\&quot;0\&quot; parent=\&quot;MUDqd0nROVP1RyOw-qCX-12\&quot;&gt;&lt;mxGeometry x=\&quot;0.24\&quot; y=\&quot;-1\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;-25\&quot; y=\&quot;-1\&quot; as=\&quot;offset\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-16\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-14\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-15\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-14\&quot; value=\&quot;活动开始\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1870\&quot; y=\&quot;110\&quot; width=\&quot;90\&quot; height=\&quot;30\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-18\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-15\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-17\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-19\&quot; value=\&quot;否\&quot; style=\&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];\&quot; vertex=\&quot;1\&quot; connectable=\&quot;0\&quot; parent=\&quot;MUDqd0nROVP1RyOw-qCX-18\&quot;&gt;&lt;mxGeometry x=\&quot;0.217\&quot; y=\&quot;2\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;-23\&quot; y=\&quot;2\&quot; as=\&quot;offset\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-15\&quot; value=\&quot;是否存在&amp;lt;br&amp;gt;未执行&amp;lt;br&amp;gt;抽奖单\&quot; style=\&quot;rhombus;whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1857.5\&quot; y=\&quot;195\&quot; width=\&quot;115\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-21\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-17\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-20\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-17\&quot; value=\&quot;领取活动\&quot; style=\&quot;whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2090\&quot; y=\&quot;205\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-23\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-20\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-22\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-20\&quot; value=\&quot;状态校验\&quot; style=\&quot;whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2290\&quot; y=\&quot;205\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-25\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-22\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-24\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-22\&quot; value=\&quot;日期校验\&quot; style=\&quot;whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2490\&quot; y=\&quot;205\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-27\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-24\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-26\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-24\&quot; value=\&quot;库存校验(总)\&quot; style=\&quot;whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2690\&quot; y=\&quot;205\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-26\&quot; value=\&quot;参与次数\&quot; style=\&quot;whiteSpace=wrap;html=1;rounded=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2890\&quot; y=\&quot;205\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-28\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;rotation=-90;dashed=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2640\&quot; y=\&quot;-180\&quot; width=\&quot;20\&quot; height=\&quot;730\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-29\&quot; value=\&quot;查询活动账单，并校验信息\&quot; style=\&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2570\&quot; y=\&quot;140\&quot; width=\&quot;170\&quot; height=\&quot;30\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-32\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-30\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-31\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-30\&quot; value=\&quot;redis扣减库存\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2090\&quot; y=\&quot;380\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-34\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-31\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-33\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-31\&quot; value=\&quot;分布式锁(库存滑块)\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2290\&quot; y=\&quot;380\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-36\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-33\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-35\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-33\&quot; value=\&quot;插入领取记录\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2490\&quot; y=\&quot;380\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-38\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-35\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-37\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-35\&quot; value=\&quot;删除库存锁Key\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2690\&quot; y=\&quot;380\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-41\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-37\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-40\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-37\&quot; value=\&quot;领取完成\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2890\&quot; y=\&quot;380\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-39\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;exitX=0.575;exitY=1.017;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.45;entryY=-0.067;entryDx=0;entryDy=0;entryPerimeter=0;edgeStyle=orthogonalEdgeStyle;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-26\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-30\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;2860\&quot; y=\&quot;350\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;2910\&quot; y=\&quot;300\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-43\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-40\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-42\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-40\&quot; value=\&quot;发送领取记录MQ\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;3090\&quot; y=\&quot;380\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-42\&quot; value=\&quot;异步更新库存\&quot; style=\&quot;rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;sketch=1;curveFitting=1;jiggle=2;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;3290\&quot; y=\&quot;380\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-44\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-15\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1990\&quot; y=\&quot;490\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;1915\&quot; y=\&quot;500\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-45\&quot; value=\&quot;是\&quot; style=\&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];\&quot; vertex=\&quot;1\&quot; connectable=\&quot;0\&quot; parent=\&quot;MUDqd0nROVP1RyOw-qCX-44\&quot;&gt;&lt;mxGeometry x=\&quot;0.3422\&quot; y=\&quot;-2\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;2\&quot; y=\&quot;-46\&quot; as=\&quot;offset\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-46\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;html=1;rounded=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;sketch=1;curveFitting=1;jiggle=2;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-37\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1920\&quot; y=\&quot;480\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;2880\&quot; y=\&quot;510\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-48\&quot; value=\&quot;\&quot; style=\&quot;html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=#ffffff;verticalAlign=top;strokeWidth=2;strokeColor=#B3B3B3;shadow=0;dashed=0;shape=mxgraph.ios7.icons.message;fillColor=#666666;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1985\&quot; y=\&quot;321\&quot; width=\&quot;70\&quot; height=\&quot;39\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-51\&quot; value=\&quot;&amp;lt;font color=&amp;quot;#ffffff&amp;quot;&amp;gt;&amp;lt;b&amp;gt;新增流程&amp;lt;/b&amp;gt;&amp;lt;/font&amp;gt;\&quot; style=\&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1990\&quot; y=\&quot;321\&quot; width=\&quot;60\&quot; height=\&quot;30\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-53\&quot; value=\&quot;优化活动领域，活动参与流程中的库存扣减操作，&amp;lt;b&amp;gt;这部分我们原来是使用数据库行级锁处理的库存扣减，但因为会存在并发问题所以这里优化为 Redis 分布式锁进行处理&amp;lt;/b&amp;gt;。\&quot; style=\&quot;shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;rounded=0;sketch=0;fontSize=14;fillColor=#FFD966;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;3700\&quot; y=\&quot;110\&quot; width=\&quot;580\&quot; height=\&quot;80\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-54\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.002;exitY=0.221;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-52\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-53\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;3610\&quot; y=\&quot;180\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;3660\&quot; y=\&quot;130\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-55\&quot; value=\&quot;活动领取完成后，其实这个时候只是把缓存的库存扣掉了，但数据库中的库存并没有扣减，所以我们需要发送一个 MQ 消息，来对数据库中的库存进行处理。因为 MQ 可以消峰因此在降低 MQ 分片的情况下，消费效率有所下降，并不会对数据库造成压力，保证最终数据一致性即可。但也有例外，所以我们提到可以使用定时任务来更新数据库库存\&quot; style=\&quot;shape=note2;boundedLbl=1;whiteSpace=wrap;html=1;size=25;verticalAlign=top;align=center;rounded=0;sketch=0;fontSize=14;fillColor=#FFD966;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;3700\&quot; y=\&quot;250\&quot; width=\&quot;590\&quot; height=\&quot;110\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-56\&quot; value=\&quot;\&quot; style=\&quot;endArrow=none;dashed=1;html=1;rounded=0;entryX=-0.005;entryY=0.564;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.001;exitY=0.529;exitDx=0;exitDy=0;exitPerimeter=0;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;MUDqd0nROVP1RyOw-qCX-52\&quot; target=\&quot;MUDqd0nROVP1RyOw-qCX-55\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;3590\&quot; y=\&quot;370\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;3640\&quot; y=\&quot;320\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-57\&quot; value=\&quot;\&quot; style=\&quot;shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;image=data:image/svg+xml,PHN2ZyB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMzIiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgY2xhc3M9Imljb24iPjxwYXRoIGZpbGw9IiMxYWZhMjkiIGQ9Ik0xMi44IDUxMmMwIDI3NS4yNTEyIDIyMy45NDg4IDQ5OS4yIDQ5OS4yIDQ5OS4yczQ5OS4yLTIyMy45NDg4IDQ5OS4yLTQ5OS4yYTUwMi4xMTg0IDUwMi4xMTg0IDAgMCAwLTI4Mi44OC00NDkuOTk2OCAzOC40IDM4LjQgMCAxIDAtMzMuMjggNjkuMjIyNEE0MjQuOTYgNDI0Ljk2IDAgMCAxIDkzNC40IDUxMmMwIDIzMi45MDg4LTE4OS40OTEyIDQyMi40LTQyMi40IDQyMi40Uzg5LjYgNzQ0LjkwODggODkuNiA1MTIgMjc5LjA5MTIgODkuNiA1MTIgODkuNmEzOC40IDM4LjQgMCAwIDAgMC03Ni44QzIzNi43NDg4IDEyLjggMTIuOCAyMzYuNzQ4OCAxMi44IDUxMnoiLz48cGF0aCBmaWxsPSIjMWFmYTI5IiBkPSJNMjg1Ljc0NzIgNDY2LjczOTJhMzguNCAzOC40IDAgMSAwLTU0LjMyMzIgNTQuMzIzMmwxODAuOTkyIDE4MC45OTJhMzguMjk3NiAzOC4yOTc2IDAgMCAwIDU0LjI3MiAwbDMyNS44MzY4LTMyNS43ODU2YTM4LjQgMzguNCAwIDEgMC01NC4zMjMyLTU0LjMyMzJsLTI5OC43MDA4IDI5OC42NDk2LTE1My43NTM2LTE1My44NTZ6Ii8+PC9zdmc+\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;3668\&quot; y=\&quot;268\&quot; width=\&quot;32\&quot; height=\&quot;32\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;MUDqd0nROVP1RyOw-qCX-58\&quot; value=\&quot;\&quot; style=\&quot;shape=image;verticalLabelPosition=bottom;verticalAlign=top;imageAspect=0;image=data:image/svg+xml,PHN2ZyB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBoZWlnaHQ9IjMyIiB3aWR0aD0iMzIiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgY2xhc3M9Imljb24iPjxwYXRoIGZpbGw9IiMxYWZhMjkiIGQ9Ik0xMi44IDUxMmMwIDI3NS4yNTEyIDIyMy45NDg4IDQ5OS4yIDQ5OS4yIDQ5OS4yczQ5OS4yLTIyMy45NDg4IDQ5OS4yLTQ5OS4yYTUwMi4xMTg0IDUwMi4xMTg0IDAgMCAwLTI4Mi44OC00NDkuOTk2OCAzOC40IDM4LjQgMCAxIDAtMzMuMjggNjkuMjIyNEE0MjQuOTYgNDI0Ljk2IDAgMCAxIDkzNC40IDUxMmMwIDIzMi45MDg4LTE4OS40OTEyIDQyMi40LTQyMi40IDQyMi40Uzg5LjYgNzQ0LjkwODggODkuNiA1MTIgMjc5LjA5MTIgODkuNiA1MTIgODkuNmEzOC40IDM4LjQgMCAwIDAgMC03Ni44QzIzNi43NDg4IDEyLjggMTIuOCAyMzYuNzQ4OCAxMi44IDUxMnoiLz48cGF0aCBmaWxsPSIjMWFmYTI5IiBkPSJNMjg1Ljc0NzIgNDY2LjczOTJhMzguNCAzOC40IDAgMSAwLTU0LjMyMzIgNTQuMzIzMmwxODAuOTkyIDE4MC45OTJhMzguMjk3NiAzOC4yOTc2IDAgMCAwIDU0LjI3MiAwbDMyNS44MzY4LTMyNS43ODU2YTM4LjQgMzguNCAwIDEgMC01NC4zMjMyLTU0LjMyMzJsLTI5OC43MDA4IDI5OC42NDk2LTE1My43NTM2LTE1My44NTZ6Ii8+PC9zdmc+\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;3660\&quot; y=\&quot;110\&quot; width=\&quot;32\&quot; height=\&quot;32\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;&quot;,&quot;toolbar&quot;:&quot;pages zoom layers lightbox&quot;,&quot;page&quot;:0}"></div>
<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" href="https://app.diagrams.net/#Hdacchen123%2Fnotes-for-diagrams%2Fmain%2Fnotes_for_Lottery%2F19%E3%80%81%E8%AE%BE%E8%AE%A1%E6%BB%91%E5%8A%A8%E5%BA%93%E5%AD%98%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%A4%84%E7%90%86%E6%B4%BB%E5%8A%A8%E7%A7%92%E6%9D%80.drawio.html" target="_blank"><img border="0" src="https://app.diagrams.net/images/drawlogo128.png"/></a>
</body>
</html>
